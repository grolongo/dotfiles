#!/usr/bin/env bash
set -e
set -u
set -o pipefail
IFS=$'\n\t'


function get_brightness {
    brightness_current=$(brightnessctl get)
    brightness_max=$(brightnessctl max)
    brightness_current_percentage=$(echo "scale=2; $brightness_current / $brightness_max * 100" | bc)
}

function show_brightness_notif {
    brightness=$(get_brightness)
    echo "${brightness}"
    notify-send -t 1 -h string:x-dunst-stack-tag:brightness_notif -h value:int:"${brightness}" "${brightness}%"
}

case $1 in
    brightness_up)
        brightnessctl set +10%
        show_brightness_notif
        ;;

    brightness_down)
        brightnessctl set 10%-
        show_brightness_notif
        ;;
esac
