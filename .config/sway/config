xwayland disable
for_window [shell="xwayland"] title_format "[XWayland] %title"

set $mod  Mod4
set $term foot
set $menu wmenu-run
# emacs movements
set $left  b
set $down  n
set $up    p
set $right f

# ------------------
# Idle configuration
# ------------------

# exec swayidle -w \
#          timeout 300 'swaylock -f -c 000000' \
#          timeout 600 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
#          before-sleep 'swaylock -f -c 000000'
# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.

# ----------------------
# Input(s) configuration
# ----------------------

input type:keyboard {
    xkb_layout "fr"
    xkb_options ctrl:nocaps
    repeat_delay 150
    repeat_rate 50
}

input type:touchpad {
    dwt enabled              # "disabled while typing"
    tap enabled              # self explaining
    natural_scroll enabled   # "reverse scrolling"
    middle_emulation enabled # middle click emulation
    accel_profile "flat"     # "adaptive" to enable
    pointer_accel 0.5        # set mouse sensitivity (between -1 and 1)
    # scroll_factor
}

input type:pointer {
    dwt enabled              # "disabled while typing"
    natural_scroll enabled   # "reverse scrolling"
    accel_profile "flat"     # "adaptive" to enable
    pointer_accel 0.5        # set mouse sensitivity (between -1 and 1)
    # scroll_factor
}

# --------
# Bindings
# --------

bindsym $mod+Return  exec $term
bindsym $mod+d       exec $menu
bindsym $mod+Shift+q kill
bindsym $mod+Shift+c reload
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

# Move your focus around
bindsym $mod+$left  focus left
bindsym $mod+$down  focus down
bindsym $mod+$up    focus up
bindsym $mod+$right focus right
# Move the focused window with the same, but add Shift
bindsym $mod+Shift+$left  move left
bindsym $mod+Shift+$down  move down
bindsym $mod+Shift+$up    move up
bindsym $mod+Shift+$right move right

# Switch to workspace
bindsym $mod+ampersand  workspace number $ws1
bindsym $mod+eacute     workspace number $ws2
bindsym $mod+quotedbl   workspace number $ws3
bindsym $mod+apostrophe workspace number $ws4
bindsym $mod+parenleft  workspace number $ws5
bindsym $mod+minus      workspace number $ws6
bindsym $mod+egrave     workspace number $ws7
bindsym $mod+underscore workspace number $ws8
bindsym $mod+ccedilla   workspace number $ws9
bindsym $mod+agrave     workspace number $ws10

# Move focused container to workspace
bindsym $mod+Shift+1        move container to workspace number $ws1
bindsym $mod+Shift+eacute   move container to workspace number $ws2
bindsym $mod+Shift+3        move container to workspace number $ws3
bindsym $mod+Shift+4        move container to workspace number $ws4
bindsym $mod+Shift+5        move container to workspace number $ws5
bindsym $mod+Shift+6        move container to workspace number $ws6
bindsym $mod+Shift+egrave   move container to workspace number $ws7
bindsym $mod+Shift+8        move container to workspace number $ws8
bindsym $mod+Shift+ccedilla move container to workspace number $ws9
bindsym $mod+Shift+agrave   move container to workspace number $ws10

# Layout stuff
bindsym $mod+down        splith
bindsym $mod+right       splitv
bindsym $mod+s           layout   stacking
bindsym $mod+w           layout   tabbed
bindsym $mod+e           layout   toggle split
bindsym $mod+Shift+s     fullscreen
bindsym $mod+Shift+space floating toggle
bindsym $mod+space       focus    mode_toggle
bindsym $mod+a           focus    parent

# Scratchpad
# bindsym $mod+Shift+minus move scratchpad
# bindsym $mod+minus scratchpad show

# Resizing containers:
bindsym $mod+r mode "resize"
mode "resize" {
    bindsym $left  resize shrink width  10px
    bindsym $down  resize grow   height 10px
    bindsym $up    resize shrink height 10px
    bindsym $right resize grow   width  10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# Audio Controls
bindsym --locked XF86AudioMicMute     exec wpctl set-mute          \@DEFAULT_AUDIO_SOURCE@ toggle
bindsym --locked XF86AudioMute        exec wpctl set-mute          \@DEFAULT_AUDIO_SINK@   toggle
bindsym --locked XF86AudioLowerVolume exec wpctl set-volume        \@DEFAULT_AUDIO_SINK@   5%-
bindsym --locked XF86AudioRaiseVolume exec wpctl set-volume -l 1.5 \@DEFAULT_AUDIO_SINK@   5%+

# Multimedia Controls
bindsym --locked XF86AudioPlay  exec playerctl play-pause
bindsym --locked XF86AudioPause exec playerctl play-pause
bindsym --locked XF86AudioPrev  exec playerctl previous
bindsym --locked XF86AudioNext  exec playerctl next

# Screen Brightness Controls
bindsym XF86MonBrightnessDown exec "brightness down"
bindsym XF86MonBrightnessUp   exec "brightness up"

# Keyboard Brightness Controls
bindsym XF86KbdBrightnessDown exec "sudo keyboard-backlight down"
bindsym XF86KbdBrightnessUp   exec "sudo keyboard-backlight up"

# Special key to take a screenshot with grim
bindsym Print exec grim

# ----------
# Workspaces
# ----------

# Variables
set $ws1 "1"
set $ws2 "2: Emacs"
set $ws3 "3: www"
set $ws4 "4: Tor"
set $ws5 "5: Spotify"
set $ws6 "6: Twitch"
set $ws7 "7: KeePass"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# Assignments
assign [class="Emacs"]         $ws2
assign [class="firefox"]       $ws3
assign [class="Chromium"]      $ws3
assign [class="Tor Browser"]   $ws4
assign [class="Spotify"]       $ws5
assign [class="chatty-Chatty"] $ws6
assign [class="KeePassXC"]     $ws7

# -------------
# Floating Apps
# -------------

floating_modifier $mod normal
for_window [class="Tor Messenger"] floating enable
for_window [class="Krita"]         floating enable
for_window [class="VirtualBox"]    floating enable
for_window [class="Steam"]         floating enable
# for_window [class="KeePass"]       floating enable
for_window [class="Seafile"]       floating enable
for_window [class="Veracrypt"]     floating enable

# ----------
# Status Bar
# ----------

bar {
    position bottom

    status_command while date +'%Y-%m-%d %X'; do sleep 1; done

    colors {
        statusline #ffffff
        background #323232
        inactive_workspace #32323200 #32323200 #5c5c5c
    }
}

include @sysconfdir@/sway/config.d/*
